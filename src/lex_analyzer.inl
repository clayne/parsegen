// Lexegen autogenerated analyzer file - do not edit!

static int symb2meta[256] = {
    0, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 4, 5, 6, 7, 1,
    8, 1, 1, 1, 1, 1, 1, 1, 1, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 1, 1, 1, 1, 1, 1, 1, 11, 11, 11, 11, 11, 11, 12, 12, 12,
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 13, 14, 15, 1, 12, 1, 16, 17, 18, 19, 20, 21,
    22, 23, 24, 12, 25, 26, 27, 28, 29, 30, 12, 31, 32, 33, 34, 35, 12, 36, 37, 12, 38, 1, 39, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1
};

static int def[99] = {
    -1, 0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 5, 1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, 35, -1, 34, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 30, 79, 79, 79, 79, 79, 79, 79, 79,
    79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79
};

static int base[99] = {
    0, 39, 78, 81, 81, 79, 92, 92, 117, 92, 83, 120, 120, 120, 120, 120, 120, 120, 148, 161, 120, 111, 160, 160, 183,
    160, 160, 160, 160, 160, 182, 213, 160, 238, 265, 292, 151, 162, 212, 162, 162, 144, 143, 144, 144, 144, 152, 155,
    160, 168, 161, 195, 173, 173, 190, 224, 204, 207, 226, 193, 204, 201, 203, 232, 204, 217, 202, 203, 207, 219, 238,
    217, 207, 245, 212, 227, 223, 225, 278, 314, 260, 259, 304, 250, 286, 275, 278, 305, 337, 304, 301, 318, 324, 307,
    316, 310, 326, 325, 316
};

static int next[377] = {
    3, 26, 23, 27, 28, 29, 30, 31, 32, 26, 26, 33, 33, 34, 26, 26, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
    33, 33, 33, 33, 33, 33, 33, 33, 33, 35, 26, 24, 24, 6, 25, 24, 24, 24, 24, 24, 24, 24, 24, 24, 8, 24, 24, 24, 24,
    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 4, 5, 23, 4, 4, 4, 4, 7, 4, 4,
    4, 4, 4, 21, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 9, 9, 22, 9, 9, 9, 9, 9, 10,
    9, 9, 9, 9, 9, 9, 11, 12, 9, 9, 9, 13, 9, 9, 9, 9, 9, 9, 14, 9, 9, 15, 9, 16, 9, 17, 18, 9, 9, 9, 19, 19, 19, 36,
    36, 74, 71, 19, 19, 19, 19, 19, 19, 20, 20, 20, 64, 59, 56, 52, 20, 20, 20, 20, 20, 20, -1, 48, 49, -1, -1, 50, 51,
    37, 79, 79, 79, 79, 53, 54, -1, 80, 79, 79, 81, 82, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79,
    79, 40, 38, 38, 55, 57, 58, 60, 39, 61, 41, 62, 63, 65, 66, 67, 68, 69, 70, 72, 42, 73, 43, 44, 45, 46, 75, 47, 33,
    33, 33, 33, 76, 77, 78, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 38,
    38, 96, 91, 89, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 36, 36, 88,
    86, 87, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 79, 83, 84, 79, 79,
    85, 88, 90, 88, 92, 93, 94, 95, 88, 97, 98, 95, 79, 79, 79, 79, 79, -1, -1, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79,
    79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, -1, -1
};

static int check[377] = {
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    1, 2, 2, 5, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 8, 8, 21, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8,
    8, 8, 8, 18, 18, 18, 36, 36, 41, 42, 18, 18, 18, 18, 18, 18, 19, 19, 19, 43, 44, 45, 46, 19, 19, 19, 19, 19, 19, 24,
    47, 48, 24, 24, 49, 50, 36, 30, 30, 30, 30, 52, 53, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30,
    30, 30, 30, 30, 30, 30, 30, 31, 38, 38, 54, 56, 57, 59, 38, 60, 31, 61, 62, 64, 65, 66, 67, 68, 69, 71, 31, 72, 31,
    31, 31, 31, 74, 31, 33, 33, 33, 33, 75, 76, 77, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
    33, 33, 33, 33, 33, 34, 34, 80, 81, 83, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34,
    34, 34, 34, 35, 35, 84, 85, 86, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35,
    35, 79, 82, 82, 79, 79, 82, 87, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 79, 79, 79, 79, 79, 79, 79, 88, 88, 88, 88,
    88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88, 88
};

static int accept[99] = {
    0, 0, 0, 70, 26, 26, 30, 28, 66, 20, 2, 6, 8, 10, 14, 12, 16, 18, 20, 4, 4, 2, 2, 32, 22, 24, 66, 68, 62, 60, 66,
    66, 64, 58, 66, 66, 0, 52, 0, 50, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 34, 0, 0, 0, 42, 0, 0, 46, 0, 0, 0, 0, 38, 0, 0,
    0, 0, 0, 0, 44, 0, 0, 40, 0, 0, 0, 0, 36, 56, 56, 56, 56, 56, 56, 56, 56, 56, 54, 56, 56, 56, 56, 56, 56, 56, 56,
    56, 56
};

static int lls_idx[100] = {
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};

static int lls_list[1] = { 0 };

int lex(InCtxData& in_ctx, std::vector<int>& state_stack) {
    enum { kTrailContFlag = 1, kFlagCount = 1 };
    char symb = '\0';
    int state = state_stack.back();
    do {  // Fill buffers till transition is impossible
        if (in_ctx.next == in_ctx.boundary) {
            if (in_ctx.next == in_ctx.last) { break; }
            return err_end_of_input;
        }
        symb = *in_ctx.next;
        int meta = symb2meta[static_cast<unsigned char>(symb)];
        if (meta < 0) { break; }
        do {
            int l = base[state] + meta;
            if (check[l] == state) {
                state = next[l];
                break;
            }
            state = def[state];
        } while (state >= 0);
        if (state < 0) { break; }
        ++in_ctx.next;
        state_stack.push_back(state);
    } while (symb != 0);
    while (in_ctx.next != in_ctx.first) {  // Unroll downto last accepting state
        int n_pat = accept[state_stack.back()];
        if (n_pat > 0) {
            bool has_trailling_context = n_pat & kTrailContFlag;
            n_pat >>= kFlagCount;
            if (has_trailling_context) {
                do {
                    state = state_stack.back();
                    for (int i = lls_idx[state]; i < lls_idx[state + 1]; ++i) {
                        if (lls_list[i] == n_pat) {
                            ptrdiff_t n_remove = in_ctx.next - in_ctx.first;
                            state_stack.erase(state_stack.end() - n_remove, state_stack.end());
                            return n_pat;
                        }
                    }
                    --in_ctx.next;
                    state_stack.pop_back();
                } while (in_ctx.next != in_ctx.first);
            }
            ptrdiff_t n_remove = in_ctx.next - in_ctx.first;
            state_stack.erase(state_stack.end() - n_remove, state_stack.end());
            return n_pat;
        }
        --in_ctx.next;
        state_stack.pop_back();
    }
    if (in_ctx.next == in_ctx.last) { return err_end_of_input; }
    ++in_ctx.next;  // Accept at least one symbol as default pattern
    return predef_pat_default;
}
